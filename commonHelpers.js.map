{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["'use strict';\n\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport imageUrl from '../img/alert-icon.svg'\n\nconst timeInput = document.querySelector('#datetime-picker');\nconst startBtn = document.querySelector('button[data-start]');\nconst dayBlock = document.querySelector('[data-days]');\nconst hoursBlock = document.querySelector('[data-hours]');\nconst minutesBlock = document.querySelector('[data-minutes]');\nconst secondsBlock = document.querySelector('[data-seconds]');\n\n     startBtn.setAttribute('disabled', '');\n\nlet userSelectedDate;\nlet timeInterval\n\nlet options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        userSelectedDate = selectedDates[0];\n               if (userSelectedDate < new Date()) {\n            startBtn.setAttribute('disabled', '');\n            startBtn.classList.remove('right-date');\n                   iziToast.error({\n                       message: 'Please choose a date in the future',\n                       backgroundColor: '#ef4040',\n                       messageColor: '#fff',\n                       messageSize: '16',\n                       imageWidth: 302,\n                       close: true,\n                       closeOnEscape: true,\n                       closeOnClick: true,\n                       progressBar: true,\n                       progressBarColor: '#b51b1b',\n                       transitionIn: 'flipInX',\n                       transitionOut: 'flipOutX',\n                       position: 'topRight',\n                       iconUrl: imageUrl,\n                       iconColor: '#FAFAFB',\n                   });\n        } else {\n            startBtn.removeAttribute('disabled', '')\n            startBtn.classList.add('right-date')\n        }\n                 console.log(userSelectedDate);\n       \n    }\n  \n};\n\nflatpickr(timeInput, options);\n\nstartBtn.addEventListener('click', () => {\n    if (timeInterval) clearInterval(timeInterval);\n    startBtn.setAttribute('disabled', '');\n    startBtn.classList.remove('right-date');\n    timeInput.setAttribute('disabled', '');\n    convertMs();\n    timeInterval = setInterval(convertMs, 1000);\n     })\n\nlet ms;\n\nfunction convertMs(ms) {\n\n    ms = userSelectedDate.getTime() - Date.now();\n\n    if (ms < 0) {\n        clearInterval(timeInterval);\n        timeInput.removeAttribute('disabled', '');\n        return;\n    };\n           \n            // Number of milliseconds per unit of time\n            const second = 1000;\n            const minute = second * 60;\n            const hour = minute * 60;\n            const day = hour * 24;\n\n            // Remaining days\n            const days = Math.floor(ms / day);\n            // Remaining hours\n            const hours = Math.floor((ms % day) / hour);\n            // Remaining minutes\n            const minutes = Math.floor(((ms % day) % hour) / minute);\n            // Remaining seconds\n            const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n            \n            dayBlock.textContent = String(days).padStart(2, '0');\n            hoursBlock.textContent = String(hours).padStart(2, '0');\n            minutesBlock.textContent = String(minutes).padStart(2, '0');\n            secondsBlock.textContent = String(seconds).padStart(2, '0');\n};\n\n\n\n"],"names":["timeInput","startBtn","dayBlock","hoursBlock","minutesBlock","secondsBlock","userSelectedDate","timeInterval","options","selectedDates","iziToast","imageUrl","flatpickr","convertMs","ms","second","minute","hour","day","days","hours","minutes","seconds"],"mappings":"+IAUA,MAAMA,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAW,SAAS,cAAc,oBAAoB,EACtDC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAe,SAAS,cAAc,gBAAgB,EAEvDJ,EAAS,aAAa,WAAY,EAAE,EAEzC,IAAIK,EACAC,EAEAC,EAAU,CACV,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnBH,EAAmBG,EAAc,CAAC,EACvBH,EAAmB,IAAI,MAC9BL,EAAS,aAAa,WAAY,EAAE,EACpCA,EAAS,UAAU,OAAO,YAAY,EAC/BS,EAAS,MAAM,CACX,QAAS,qCACT,gBAAiB,UACjB,aAAc,OACd,YAAa,KACb,WAAY,IACZ,MAAO,GACP,cAAe,GACf,aAAc,GACd,YAAa,GACb,iBAAkB,UAClB,aAAc,UACd,cAAe,WACf,SAAU,WACV,QAASC,EACT,UAAW,SAClC,CAAoB,IAERV,EAAS,gBAAgB,WAAY,EAAE,EACvCA,EAAS,UAAU,IAAI,YAAY,GAE9B,QAAQ,IAAIK,CAAgB,CAExC,CAEL,EAEAM,EAAUZ,EAAWQ,CAAO,EAE5BP,EAAS,iBAAiB,QAAS,IAAM,CACjCM,GAAc,cAAcA,CAAY,EAC5CN,EAAS,aAAa,WAAY,EAAE,EACpCA,EAAS,UAAU,OAAO,YAAY,EACtCD,EAAU,aAAa,WAAY,EAAE,EACrCa,IACAN,EAAe,YAAYM,EAAW,GAAI,CAC9C,CAAM,EAIN,SAASA,EAAUC,EAAI,CAInB,GAFAA,EAAKR,EAAiB,QAAS,EAAG,KAAK,IAAG,EAEtCQ,EAAK,EAAG,CACR,cAAcP,CAAY,EAC1BP,EAAU,gBAAgB,WAAY,EAAE,EACxC,MAER,CAEY,MAAMe,EAAS,IACTC,EAASD,EAAS,GAClBE,EAAOD,EAAS,GAChBE,EAAMD,EAAO,GAGbE,EAAO,KAAK,MAAML,EAAKI,CAAG,EAE1BE,EAAQ,KAAK,MAAON,EAAKI,EAAOD,CAAI,EAEpCI,EAAU,KAAK,MAAQP,EAAKI,EAAOD,EAAQD,CAAM,EAEjDM,EAAU,KAAK,MAASR,EAAKI,EAAOD,EAAQD,EAAUD,CAAM,EAGlEb,EAAS,YAAc,OAAOiB,CAAI,EAAE,SAAS,EAAG,GAAG,EACnDhB,EAAW,YAAc,OAAOiB,CAAK,EAAE,SAAS,EAAG,GAAG,EACtDhB,EAAa,YAAc,OAAOiB,CAAO,EAAE,SAAS,EAAG,GAAG,EAC1DhB,EAAa,YAAc,OAAOiB,CAAO,EAAE,SAAS,EAAG,GAAG,CACtE"}